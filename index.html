<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é«˜é›„éå¹´æªåœ˜ç¥å™¨</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
    <style>
        :root { --primary: #007bff; --rush: #ffebee; --chill: #e8f5e9; --food: #fff3e0; }
        body { font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif; background: #f4f7f6; margin: 0; padding: 0; padding-bottom: 50px;}
        
        /* å°è¦½åˆ— */
        .nav { display: flex; background: #333; padding: 10px; position: sticky; top: 0; z-index: 100; }
        .nav button { flex: 1; padding: 10px; background: none; border: none; color: #888; font-size: 1.1rem; cursor: pointer; }
        .nav button.active { color: white; font-weight: bold; border-bottom: 3px solid var(--primary); }

        /* é é¢åˆ‡æ› */
        .page { display: none; padding: 15px; max-width: 800px; margin: 0 auto; }
        .page.active { display: block; }

        /* å•å·æ¨£å¼ */
        .quiz-card { background: white; padding: 20px; border-radius: 10px; margin-bottom: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .btn-opt { width: 100%; padding: 12px; margin: 5px 0; border: 1px solid #ddd; border-radius: 5px; background: white; text-align: left; }
        .btn-opt:active { background: #eee; }

        /* è¡Œç¨‹æ‹–æ‹‰æ¨£å¼ */
        .container { display: flex; flex-direction: column; gap: 15px; }
        .pool, .schedule { background: white; padding: 15px; border-radius: 10px; border: 1px solid #ddd; }
        .pool { border: 2px dashed #999; min-height: 100px; display: flex; flex-wrap: wrap; gap: 8px; }
        
        .item { padding: 8px 12px; border-radius: 5px; font-size: 0.9rem; cursor: grab; display: inline-block; box-shadow: 0 1px 3px rgba(0,0,0,0.1); user-select: none; }
        .item.rush { background: var(--rush); border-left: 4px solid #ef5350; }
        .item.chill { background: var(--chill); border-left: 4px solid #66bb6a; }
        .item.food { background: var(--food); border-left: 4px solid #ffa726; }
        
        .time-slot { display: flex; margin-bottom: 8px; background: #fafafa; border-radius: 8px; border: 1px solid #eee; }
        .time-label { padding: 10px; background: #e3f2fd; font-weight: bold; font-size: 0.8rem; display: flex; align-items: center; width: 60px; justify-content: center; border-radius: 8px 0 0 8px; }
        .slot-area { flex-grow: 1; min-height: 50px; padding: 5px; }
        
        /* è¤‡è£½æŒ‰éˆ• */
        .float-btn { position: fixed; bottom: 20px; right: 20px; background: var(--primary); color: white; padding: 15px 20px; border-radius: 50px; border: none; box-shadow: 0 4px 10px rgba(0,0,0,0.3); font-size: 1rem; font-weight: bold; cursor: pointer; }
        .ghost { opacity: 0.4; background: #ccc; }
        
        h2 { margin-top: 0; font-size: 1.2rem; border-bottom: 2px solid #eee; padding-bottom: 10px; }
    </style>
</head>
<body>

<div class="nav">
    <button class="active" onclick="switchPage('quiz')">1. æ¸¬å±¬æ€§</button>
    <button onclick="switchPage('plan')">2. æ’è¡Œç¨‹</button>
</div>

<div id="quiz" class="page active">
    <div class="quiz-card">
        <h3>Q1. é›£å¾—å»é«˜é›„ï¼Œä½ çš„é«”åŠ›ï¼Ÿ</h3>
        <button class="btn-opt" onclick="addScore(1)">A. åªè¦è…¿æ²’æ–·ï¼Œæ™¯é»è·‘ä¸å®Œ (ç‰¹ç¨®å…µ)</button>
        <button class="btn-opt" onclick="addScore(-1)">B. ç¡é£½å†å‡ºé–€ï¼Œä¸€å¤©å…©å€‹é» (é¤Šç”Ÿåœ˜)</button>
    </div>
    <div class="quiz-card">
        <h3>Q2. å°æ–¼ã€Œèµ°è·¯ã€é€™ä»¶äº‹ï¼Ÿ</h3>
        <button class="btn-opt" onclick="addScore(1)">A. èµ° 20 åˆ†é˜å»æ­æ·é‹æ²’å•é¡Œ</button>
        <button class="btn-opt" onclick="addScore(-1)">B. èƒ½åè¼•è»Œå°±ä¸èµ°è·¯</button>
    </div>
    <div class="quiz-card">
        <h3>Q3. æ™¯é»åå¥½ï¼Ÿ</h3>
        <button class="btn-opt" onclick="addScore(1)">A. æˆ¶å¤–çœ‹æµ·ã€çˆ¬å±±ã€æ›¬å¤ªé™½</button>
        <button class="btn-opt" onclick="addScore(-1)">B. å®¤å…§å±•è¦½ã€ç™¾è²¨å…¬å¸å†·æ°£</button>
    </div>
    <div style="text-align:center; margin-top:20px;">
        <button onclick="showResult()" style="background:#333; color:white; padding:10px 30px; border:none; border-radius:5px; font-size:1.1rem;">æŸ¥çœ‹çµæœ</button>
        <p id="result-text" style="font-weight:bold; color:red; margin-top:15px; font-size:1.2rem;"></p>
    </div>
</div>

<div id="plan" class="page">
    <div class="container">
        
        <div class="schedule">
            <h2>å¾…é¸å€ (é•·æŒ‰æ‹–æ›³)</h2>
            <div id="pool" class="pool">
                <div class="item rush">å£½å±±å‹•ç‰©åœ’</div>
                <div class="item rush">æ——æ´¥ç‡ˆå¡”+ç ²å°</div>
                <div class="item rush">è“®æ± æ½­ç’°æ¹–</div>
                <div class="item rush">è¥¿å­ç£çˆ¬æ¨“æ¢¯</div>
                <div class="item chill">è¼•è»ŒéŠå¤¢æ™‚ä»£</div>
                <div class="item chill">é§äºŒæ–‡å‰µæ•£æ­¥</div>
                <div class="item chill">å…§æƒŸè—è¡“ä¸­å¿ƒ</div>
                <div class="item chill">å¤§æ±æ¿•åœ°å…¬åœ’</div>
                <div class="item food">ä¸¹ä¸¹æ¼¢å ¡</div>
                <div class="item food">é¹½åŸ•è€åº—å°åƒ</div>
                <div class="item food">ç‘è±å¤œå¸‚</div>
                <div class="item" style="background:#eee">æ·é‹/è¼•è»Œç§»å‹•</div>
            </div>
        </div>

        <div class="schedule">
            <h2>è¡Œç¨‹è¡¨ (ç›®æ¨™ 20:00 å›æ–°ç‡Ÿ)</h2>
            <div class="time-slot"><div class="time-label">08:00<br>10:00</div><div class="slot-area" id="t1"><div class="item" style="background:#333; color:white">ç«è»Šå‰å¾€é«˜é›„</div></div></div>
            <div class="time-slot"><div class="time-label">10:00<br>12:00</div><div class="slot-area" id="t2"></div></div>
            <div class="time-slot"><div class="time-label">12:00<br>14:00</div><div class="slot-area" id="t3"><div class="item food">åˆé¤æ™‚é–“</div></div></div>
            <div class="time-slot"><div class="time-label">14:00<br>16:00</div><div class="slot-area" id="t4"></div></div>
            <div class="time-slot"><div class="time-label">16:00<br>18:00</div><div class="slot-area" id="t5"></div></div>
            <div class="time-slot"><div class="time-label">18:00<br>20:00</div><div class="slot-area" id="t6"><div class="item" style="background:#333; color:white">ç«è»Šè¿”ç¨‹</div></div></div>
        </div>
    </div>
    
    <button class="float-btn" onclick="exportPlan()">è¤‡è£½è¡Œç¨‹æ–‡å­—</button>
</div>

<script>
    // 1. é é¢åˆ‡æ›é‚è¼¯
    function switchPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        document.querySelectorAll('.nav button').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
    }

    // 2. æ¸¬é©—é‚è¼¯
    let score = 0;
    function addScore(val) { score += val; alert("å·²é¸æ“‡ï¼"); }
    function showResult() {
        let res = score > 0 ? "ä½ æ˜¯ã€ç²¾å¯¦ç‰¹ç¨®å…µã€‘ğŸ”¥ é©åˆå¤šè·‘æˆ¶å¤–æ™¯é»ï¼" : "ä½ æ˜¯ã€ä½›ç³»é¤Šç”Ÿåœ˜ã€‘ğŸŒ¿ é©åˆå®¤å…§æ…¢éŠï¼";
        document.getElementById('result-text').innerText = res;
        setTimeout(() => { if(confirm(res + "\nè¦å»æ’è¡Œç¨‹å—ï¼Ÿ")) switchPage('plan'); }, 500);
    }

    // 3. æ‹–æ‹‰åŠŸèƒ½ (SortableJS)
    const config = { group: 'shared', animation: 150, delay: 100, delayOnTouchOnly: true, ghostClass: 'ghost' };
    new Sortable(document.getElementById('pool'), config);
    ['t1','t2','t3','t4','t5','t6'].forEach(id => {
        new Sortable(document.getElementById(id), config);
    });

    // 4. åŒ¯å‡ºæ–‡å­—åŠŸèƒ½
    function exportPlan() {
        let text = "ã€é«˜é›„éå¹´è¡Œç¨‹è‰æ¡ˆã€‘\n";
        let times = ["08-10", "10-12", "12-14", "14-16", "16-18", "18-20"];
        
        times.forEach((t, index) => {
            let slot = document.getElementById('t' + (index + 1));
            let items = slot.querySelectorAll('.item');
            let activities = [];
            items.forEach(i => activities.push(i.innerText));
            text += `${t}é»: ${activities.length > 0 ? activities.join(' + ') : '---'}\n`;
        });
        
        navigator.clipboard.writeText(text).then(() => alert("è¡Œç¨‹å·²è¤‡è£½ï¼è«‹è²¼åˆ° Line ç¾¤çµ„ã€‚"));
    }
</script>

</body>
</html>
